{% extends "layouts/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load jalali_tags %}

{% block title %}مشخصات فردی 
{{ request.user.get_full_name|default:"حساب من" }}
{% endblock %}


{% block css %}

<style>
	

</style>
        
{% endblock css %}


{% block breadcrumb %}
<ul class="breadcrumb">
	<li class="breadcrumb-item"><a href="/"><i class="feather icon-home"></i></a></li>
	<li class="breadcrumb-item"><a href="">مشخصات فردی</a></li>
</ul>
{% endblock breadcrumb %}


{% block content %}

<div class="container mt-4 mb-4">

	<div class="row mx-auto" style="width:95%">
		<p class="alert alert-info text-center">
			{% if user.get_full_name %}
				سلام  {{ user.get_full_name }} عزیز!
			{% else %}
				سلام کاربر عزیز!
			{% endif %}
			<br>
			به آموزشگاه مجازی سفیر خوش آمدید
			
		</p>
		<div class="card p-2">

			{% if form.errors %}
					{% for field in form %}
						{% for error in field.errors %}
							<div class="alert alert-danger">
								<strong>{{ field.label }}:&nbsp;</strong><span>{{ error|escape }}</strong>
							</div>
						{% endfor %}
					{% endfor %}
					{% for error in form.non_field_errors %}
						<div class="alert alert-danger">
							<strong>{{ error|escape }}</strong>
						</div>
					{% endfor %}
			{% endif %}

			<form action="." method="POST" enctype="multipart/form-data" novalidate>
				{% csrf_token %}
				<div class="row">
					<div class="col-md-6 mb-4">
						<label>نام*</label>
						<input type='text' required placeholder="نام خود را وارد نمایید" class='form-control' name='first_name' value='{{ request.user.first_name|default:"" }}'>
					</div>
			
					<div class="col-md-6 mb-4">
						<label>نام خانوادگی*</label>
						<input type='text' required placeholder="نام خانوادگی خود را وارد نمایید" class='form-control' name='last_name' value='{{ request.user.last_name|default:"" }}'>
					</div>

			
					<div class="col-md-6 mb-4">
						<label>تلفن همراه*</label>
						<input type='text' required class='form-control' placeholder="شماره موبایل خود را وارد نمایید" name='phone' readonly='true' value='{{ request.user.phone }}'>
					</div>

					<div class="col-md-6 mb-4">
						<label>تاریخ تولد
							<span class='text-dark font-12'>(جهت دریافت آفر های ویژه)</span>
						</label>
						<input type='text' required class='form-control' placeholder="تاریخ تولد خود را وارد نمایید" name='date_of_birth' id='date_of_birth' autocomplete="off" data-jdp value='{{ request.user.get_date_of_birth }}'>
					</div>
			
					<div class="col-md-12 mb-4">
						<button type="submit" class="btn btn-dark w-100">ثبت اطلاعات</button>
					</div>
				</div>
			</form>

		</div>
		
		<div class="wrapper">
			{% comment %} <ul class="tabs group">
			  <li>
				<a class="orange-border active" href="#profile">
					اطلاعات شخصی
				</a>
			  </li>
			  <li><a class="green-border" href="#orders_paid">
				آموزش های من
			  </a></li>
			  <li>
				<a class="light-green-border" href="#orders_not_paid">
					صورت حساب ها(سفارش های پرداخت نشده)
				</a>
			  </li>
			  <li>
				<a class="blue-border" href="#rates">
					امتیاز من
				</a>
			  </li>
			  <li>
				<a class="purple-border" href="#tickets">
					پشتیبانی(تیکت ها)
				</a>
			  </li>
			</ul> {% endcomment %}
			
		</div>
		<br>
		{% include 'profiles/footer.html' %}
		
	</div>
</div>
{% endblock content %}


{% block javascripts %}

<script>
    let j = jQuery.noConflict();
    j(document).ready(function () {
        let tabs = j(".tabs li a");
        tabs.click(function () {
            let content = this.hash;
            tabs.removeClass("active");
            j(this).addClass("active");
            j("#content > .tab-content").hide();
            j(content).fadeIn(200);
        });
    });
</script>


{% endblock javascripts %}
